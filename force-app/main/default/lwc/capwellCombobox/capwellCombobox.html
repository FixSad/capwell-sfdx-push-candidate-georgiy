<template>
  <div class="slds-form-element">
    <label class="slds-form-element__label capwell-combobox-label">{label}</label>
    <div class="slds-form-element__control">
      <div class="slds-combobox_container">
        <div class={dropDownClass} role="combobox">
          <div onclick={toggleMenu} class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
            <button onblur={closeMenu} type="button" class="slds-input_faux slds-combobox__input capwell-combobox-toggle">
              <template if:true={value}>
                <span class="slds-truncate selected-value">{value}</span>
              </template>
              <template if:false={value}>
                <span class="slds-truncate placeholder">{placeholder}</span>
              </template>
              <span class="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right capwell-combobox-toggle-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </span>
            </button>
          </div>
          <div class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid" role="listbox">
            <ul class="slds-listbox slds-listbox_vertical" role="presentation">
              <template for:each={options} for:item="option">
                <li role="presentation" class="slds-listbox__item" key={option} data-id={option.label}  onclick={handleClick}>
                  <div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small" role="option">
                    <span class="slds-media__figure slds-listbox__option-icon"></span>
                    <span class="slds-media__body">
                      <span class="slds-truncate" title={option.label}>{option.label}</span>
                    </span>
                  </div>
                </li>
              </template>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>